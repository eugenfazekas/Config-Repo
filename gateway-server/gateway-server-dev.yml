server:
    port: 5555
    ssl:
        key-alias: skipper
        key-store-type: PKCS12
        key-store: classpath:keystore/domain.p12
        key-store-password: skipperpassword
        trust-store: classpath:keystore/truststore
        trust-store-password:  skipperpassword

eureka:
    client:
        registerWithEureka: true
        fetchRegistry: true
        serviceUrl:
            defaultZone: http://localhost:8761/eureka/
        securePortEnabled: true
    instance:
        securePortEnabled: true
        securePort: ${server.port}
        
logging:
    level:
        org.springframework.cloud.commons.util.InetUtils: trace



spring:
    zipkin:
        baseUrl: http://localhost:9411
    sleuth:
        sampler:
            percentage: 1
    cloud:
        loadbalancer.ribbon.enabled: false
        gateway:
            routes:
            - id: authentication-service
              uri: lb://authentication-service
              predicates:
              - Path=/gatewaytoapi1/**
              filters:
              - RewritePath=/gatewaytoapi1/(?<path>.*), /$\{path}
              - RemoveRequestHeader= Cookie,Set-Cookie
            - id: resource-service
              uri: lb://resource-service
              predicates:
              - Path=/gatewaytoapi2/**
              filters:
              - RewritePath=/gatewaytoapi2/(?<path>.*), /$\{path}
              - RemoveRequestHeader= Cookie,Set-Cookie
        inetutils:
            ignored-interfaces:
                - Hyper.*
                - docker0
                - host.*                
            preferredNetworks:
                - 192.168
            timeout-seconds: 10        
    httpclient:
        ssl:
          useInsecureTrustManager: true
                  
              